<div class="container">

  <div class="modal" ng-controller="UploadController" dropzone> 

    <div class="modal-header">
      <h1>
        Upload Photos to Your Timeline
        <a class="close" data-dismiss="modal" href="/me/wall" >&times;</a>
      </h1>
      <p class="lead">
        Just drag and drop your Photo folders below. If you have many folders, just add them all. If you get interrupted, try again and we will continue where you left off. 
      </p>
    </div>
    <div id="dropzone" class="dropzone media modal-body" >
    
      <div class="instructions" ng-show="!files.length">
        <i class="icon-cloud-upload icon-4x pull-left" > </i>
        <label> Drag and drop your photo folder or SD card here...
          <input ng-show="false" class="btn-large span3 btn-success" type="file" id="directoryinput" multiple webkitdirectory ng-model="selectedFolder" ng-change="fileChange">
        </label>
      </div>
      <ul class="media-list">
        <li class="media span2 {{file.state}}" ng-repeat="file in files">
          <img src="{{file.thumbnail}}" ng-cloak ng-show="file.thumbnail" class="pull-left"/>
          <a class="{{file.state == 'Duplicate' && 'icon-cloud' || file.state == 'Uploading' && 'icon-circle-arrow-up' || 'icon-cloud-upload' }} pull-left icon-2x"> </a>
          <div class="media-body">
            <h4 class="media-heading">{{file.name}}</h4>
            <div class="progress progress-striped {{file.state == 'Uploading' && 'active' || ''}}">
              <div title="{{file.error}}" class="bar {{file.state == 'Error' && 'bar-danger' || file.state == 'Done' && 'bar-success' || ''}}" style="width: {{file.progress || 0}}%;">{{file.state}}</div>
            </div>
          </div>
        </li>
      </ul>

    </div>
    <div class="modal-footer">
      <div class="span2 pull-left" ng-show="uploading"><input type="range" min="1" max="10" ng-model="channels"> 
        {{channels}} upload channels
      </div>
      <div class="span4 pull-left alert" ng-show="!uploading">
        You need Google Chrome to use this feature.
      </div>
      <a href="#" class="btn btn-large btn-success pull-right" ng-disabled="!files.length" ng-click="startUpload()">Upload {{(queue.length || files.length) + " photos" || ""}}</a>
      <div class="span4 pull-right progress progress-striped active" ng-show="uploading">
        <div style="width: {{queue.length / files.length }}%;">Uploading {{queue.length}} / {{files.length}}</div>
      </div>
    </div>
  </div>

</div>

<script src="/controllers/upload.js"></script>

<script src="/js/binaryFile.js"></script>
<script src="/js/exif.js"></script>
